(function(e){function b(i){i.preventDefault();var g=e("#program-advance-search-wrapper");var h=e("#program-search-wrapper");g.slideToggle();h.toggleClass("advance")}function d(i){i.preventDefault();var h=e(this);var g=e(h.attr("data-target"));e.ajax({url:b2014.ajax,type:"post",data:{action:"b2014_prog_agg_get_program",nonce:b2014.nonce,Keyword:e("#ProgramSearchKeyword").val(),ProgramType:e("#ProgramSearchProgramType").val(),Campus:e("#ProgramSearchCampus").val(),Discipline:e("#ProgramSearchDiscipline").val(),Faculty:e("#ProgramSearchFaculty").val(),StudyMode:e("#ProgramSearchStudyMode").val(),Unit:e("#ProgramSearchProgramUnit").val()},beforeSend:function(){e.fancybox.showLoading()},success:function(j){g.html(j)},complete:function(){e.fancybox.hideLoading()}})}function c(j){j.preventDefault();var k=typeof b2014.prog_agg_is_child_site!="undefined";var i=e(this);var h=i.attr("href");if(k){var g={url:b2014.ajax,type:"post",data:{nonce:b2014.nonce,action:"b2014_prog_agg_view_program_bridge",href:h}}}else{var g={url:h}}e.ajax(e.extend(g,{beforeSend:function(){e.fancybox.showLoading()},success:function(n){var m=e("<div></div>");m.html(n);var l=m.find("#inside-page.b2014_program");l.addClass("popup");e.fancybox.open(e.extend({},B2014.fancyboxImage,{content:l.parent().html(),type:"html"}))},complete:function(){}}))}function f(j){var i=e(this);var h=i.attr("href");var g=e(".program-group-container");g.hide();e(h).show()}function a(g,m,l){var j=e(g);var k=j.parents(".tabbed-contents");var h=k.find(".program");var i=k.find(".program-list-group-wrap");if(l===""){h.show();i.find(".data-not-found").remove()}else{h.hide();h.filter("."+l).show();i.each(function(o,p){var n=e(p);n.find(".data-not-found").remove();if(n.find(".program:visible").length===0){n.append(e('<div class="data-not-found">no program found</div>'))}else{n.find(".data-not-found").remove()}})}}e(document).ready(function(){e("#program-advance-search").on("click",b);e("#program-search-box.ajax").on("submit",d);e("body").on("click","#progam-group-selector .the-tab-filter a",f);e("body").on("click",".program-box .view-program",c);e(".program-type-filter").fancyfields("bind","onSelectChange",a)})})(jQuery);